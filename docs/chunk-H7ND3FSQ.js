import{c as $,e as A,j as V,k as j,l as R,n as H,o as Y}from"./chunk-GHGJRAGF.js";import{a as q}from"./chunk-NOIHIEII.js";import{$ as x,A as E,E as M,F as d,H as L,J as f,K as C,L as n,M as i,O as w,P as m,Q as v,U as r,V as p,Y as y,Z as k,_ as O,aa as S,ia as I,ja as D,ka as T,o as u,ra as B,s as F,t as b,ta as N,w as g,x as h,z as c}from"./chunk-I7QWZ5B3.js";var J=(o,t)=>t.id;function Q(o,t){if(o&1&&(n(0,"option",5),r(1),i()),o&2){let e=t.$implicit;d("value",e.id),c(),p(e.name)}}var _=class o{selectedCategory=h("");categoriesList=h.required();searchOnProducts=g();filterByCategory=g();clearFilter=g();ngAfterViewChecked(){console.log("ProductFiltersComponent View Checked")}onSearch(t){this.searchOnProducts.emit(t)}onFilterByCategory(t){this.filterByCategory.emit(t)}onClearFilter(){this.clearFilter.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=u({type:o,selectors:[["app-filters"]],inputs:{selectedCategory:[1,"selectedCategory"],categoriesList:[1,"categoriesList"]},outputs:{searchOnProducts:"searchOnProducts",filterByCategory:"filterByCategory",clearFilter:"clearFilter"},standalone:!0,features:[y],decls:12,vars:2,consts:[[1,"row","align-items-center","justify-content-between"],[1,"col-4"],["type","text","id","product_name","placeholder","Search by product Name ",1,"form-control",3,"keyup"],["id","product_Category","aria-label","Default select example",1,"form-select",3,"change","ngModel"],["selected","",3,"value"],[3,"value"],[1,"clear","d-flex","justify-content-end","my-2",3,"click"],[1,"text-warning"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"input",2),m("keyup",function(l){return a.onSearch(l)}),i()(),n(3,"div",1)(4,"select",3),m("change",function(l){return a.onFilterByCategory(l)}),n(5,"option",4),r(6,"Open this select menu"),i(),f(7,Q,2,2,"option",5,J),i(),n(9,"div",6),m("click",function(){return a.onClearFilter()}),n(10,"span",7),r(11,"Clear"),i()()()()),e&2&&(c(4),d("ngModel",a.selectedCategory()),c(),d("value",""),c(2),C(a.categoriesList()))},dependencies:[H,j,R,V,$,A,Y],styles:[".clear[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0})};var U=(o,t)=>t.id,X=()=>["/add"],Z=o=>[o];function ee(o,t){if(o&1){let e=w();n(0,"tr")(1,"th",9),r(2),i(),n(3,"td"),r(4),i(),n(5,"td"),r(6),x(7,"currency"),i(),n(8,"td"),r(9),i(),n(10,"td"),r(11),x(12,"date"),i(),n(13,"td")(14,"div",10)(15,"button",11),r(16," Edit "),i(),n(17,"button",12),m("click",function(){let s=F(e),l=s.$implicit,K=s.$index,W=v(2);return b(W.onDelete(l,K))}),r(18," Delete "),i()()()()}if(o&2){let e=t.$implicit,a=t.$index;c(2),p(a+1),c(2),p(e.name),c(2),p(S(7,6,e.price)),c(3),p(e.category),c(2),p(S(12,8,e.creationDate)),c(4),d("routerLink",O(10,Z,"/edit/"+e.id))}}function te(o,t){if(o&1&&(n(0,"table",6)(1,"thead")(2,"tr")(3,"th",8),r(4,"#"),i(),n(5,"th",8),r(6,"Product Name"),i(),n(7,"th",8),r(8,"Product Price"),i(),n(9,"th",8),r(10,"Product Category"),i(),n(11,"th",8),r(12,"Product Create Date"),i(),n(13,"th"),r(14,"Actions"),i()()(),n(15,"tbody"),f(16,ee,19,12,"tr",null,U),i()()),o&2){let e=v();c(16),C(e.productManagementService.displayedProducts)}}function ne(o,t){o&1&&(n(0,"div",7)(1,"h4",13),r(2,"No Products are Available"),i()())}var P=class o{constructor(t){this.productManagementService=t}categoriesList=[];selectedCategory="";ngOnInit(){this.getLookup(),this.getData()}ngAfterViewChecked(){console.log("ProductListComponent View Checked")}getLookup(){this.productManagementService.getCategories().subscribe({next:t=>{this.categoriesList=t}})}getData(){this.productManagementService.getProducts().subscribe()}onSearch(t){let e=t.target.value;this.productManagementService.searchOnProducts(e)}onFilterByCategory(t){let e=t.target.value;this.selectedCategory=e,this.productManagementService.filterProductsBasedOnCategory(e)}onClearFilter(){this.selectedCategory="",this.productManagementService.filterProductsBasedOnCategory("")}onDelete(t,e){window.confirm(`Are You sure You Want to delete ${t.name} product ?`)&&this.productManagementService.deleteProduct(e).subscribe()}static \u0275fac=function(e){return new(e||o)(E(q))};static \u0275cmp=u({type:o,selectors:[["app-product-list"]],standalone:!0,features:[y],decls:10,vars:5,consts:[[1,"product-list-wrapper","container","my-3"],[1,"d-flex","align-items-center","justify-content-between","my-2"],[1,"title","text-primary"],[1,"btn","btn-primary",3,"routerLink"],[1,"filters","my-3"],[3,"searchOnProducts","filterByCategory","clearFilter","categoriesList","selectedCategory"],[1,"table","mt-3"],[1,"no-data","d-flex","align-items-center","justify-content-center","my-5"],["scope","col"],["scope","row"],[1,"actions","d-flex","align-items-center","justify-content-between"],[1,"btn","btn-warning","m-1",3,"routerLink"],[1,"btn","btn-danger",3,"click"],[1,"text-muted"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"header",1)(2,"h4",2),r(3,"Our product List"),i(),n(4,"button",3),r(5," Add New Product "),i()(),n(6,"div",4)(7,"app-filters",5),m("searchOnProducts",function(l){return a.onSearch(l)})("filterByCategory",function(l){return a.onFilterByCategory(l)})("clearFilter",function(){return a.onClearFilter()}),i()(),M(8,te,18,0,"table",6)(9,ne,3,0,"div",7),i()),e&2&&(c(4),d("routerLink",k(4,X)),c(3),d("categoriesList",a.categoriesList)("selectedCategory",a.selectedCategory),c(),L(a.productManagementService.displayedProducts.length?8:9))},dependencies:[T,D,I,_,N,B],styles:[".no-data[_ngcontent-%COMP%]{text-align:center;box-shadow:#959da533 0 8px 24px;height:50vh}.product-list-wrapper[_ngcontent-%COMP%]{box-shadow:#959da533 0 8px 24px;padding:20px}"],changeDetection:0})};export{P as default};
